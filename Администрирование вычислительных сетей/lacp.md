

## Содержание:
- **[Плейлист с примерами](#playlist)**
- **[Настройка LACP](#LACP)**
- **[Настройка VLAN](#VLAN)**
- **[Настройка Router](#ROUTER)**



## <div id=playlist /> Плейлист с необходимыми материалами - [плейлист](https://www.youtube.com/playlist?list=PLcDkQ2Au8aVNYsqGsxRQxYyQijILa94T9)

## <div id=LACP />  Как настроить LACP
При настройке LA на оборудовании Cisco используются следующие термины:
- EtherChannel — технология LA. Термин, который использует Cisco для LA.
- port-channel — логический интерфейс, который объединяет физические интерфейсы.
- channel-group — команда, которая указывает какому логическому интерфейсу принадлежит физический интерфейс и какой режим используется для агрегирования.

Чтобы LACP заработал, его нужно перевести в режим active или passive. Отличие режимов в том, что режим active сразу включает протокол LACP, а режим passive включит LACP, если обнаружит LACP-сообщение от соседа. Соответственно, чтобы заработало агрегирование с LACP, нужно чтобы оба были в режиме active, либо один в active, а другой в passive.

Перед настройкой агрегирования лучше выключить физические интерфейсы. Достаточно отключить их с одной стороны.

**Порядок команд на коммутаторах**:
- переход в привелигированный режим комутатора
    - en
- настрока коммутатора в термиинале
    - conf t
- берем нужные порты для настройки (в данном случае 1 и 2 порты)
    - int range fa0/1-2
- выбираем протокол
    - channel-protocol lacp
- присваиваем портам логический интерфейс под номером (в данном случае 1) и задаем режим (active, passive)
    - channel-group 1 mode active
- выходим
    - end
- сохраняем изменения
    - wr mem


## <div id=VLAN /> Как настроить VLAN

Для настройки вланов на нескольких коммутаторах необходимо настроить trunk порт.
По умолчанию все порты находятся в 1 VLAN.
Проверить инфу по вланам можно следующим образом: show vlan.

**Создать VLAN**:
- переход в привелигированный режим комутатора
    - en
- настрока коммутатора в термиинале
    - conf t
- создаем новый VLAN (указываем номер влана)
    - vlan 2
- меняем ему имя
    - name ИМЯ_ВЛАНА
- выходим
    - exit

**Настроить порт в другой VLAN**:
- переход в привелигированный режим комутатора
    - en
- настрока коммутатора в термиинале
    - conf t
- Заходим в настройки нужного интерфейса (в данном случае 0/1)
    - interface fastEthernet 0/1
- Определяем режим порта
    - switchport mode access
- Определяем VLAN
    - switchport access vlan 2
- exit

**Настрока trunk порта**:
- переход в привелигированный режим комутатора
    - en
- настрока коммутатора в термиинале
    - conf t
- Перейти в интерфейс нужного порта (в примере гигабит 1/1)
    - interface gigabitEthernet 1/1
- Поменяем режим порта
    - switchport mode trunk
- Какие вланы должны обмениваться данными по транк порту (в примере 2 и 3, это необходимо сделать на всех коммутаторах, учавствующих в обмене) (чтобы исключить например 3 влан проделать эту же команду только с вланом 2)
    - switchport trunk allowed vlan 2,3
- end
- wr mem


## <div id=ROUTER /> Как настроить маршрутизатор

По умолчанию у ротеров отключены порты. Для настройки и использования их необходимо включить.

**Включить порт**:
- en
- conf t
- Заходим в интерфейс нужного порта
    - int fastEthernet 0/0
- Включаем
    - no shutdown
- exit

Для управление вланами необходимо создать подинтерфейсы. Посмотреть конфигурацию можно с пмощью: show run.
**Создание subinterface:**
- переход к нужному подинтерфейсу (интерфейс.номер_подинтерфейса)
    - interface fastEthernet 0/0.2
- sw
- encapsulation dot1Q 2
- задаем адрес. Выбираем ту же подсеть что и необходимой подсети, обслуживаемой вланом
    - ip address 192.168.2.1 255.255.255.0
- no shutdown
- exit
- end
- wr mem

Настройка на интерфейсе без подинтерфейса:
- int gigabytEthernet 0/0
- ip address 192.168.11.1 255.255.255.0
- no shutdown
- end
